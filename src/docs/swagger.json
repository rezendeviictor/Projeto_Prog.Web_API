{
  "swagger": "2.0",
  "info": {
    "version": "v1.0.0",
    "title": "Documentação da API Agendamento Petshop",
    "description": "Esta API gerencia agendamentos de um Petshop, permitindo cadastrar, consultar, atualizar e excluir informações sobre pets, serviços e agendamentos."
  },
  "host": "localhost:5000",
  "basePath": "/api",
  "tags": [
    {
      "name": "Auth",
      "description": "Authentication endpoints"
    },
    {
      "name": "User",
      "description": "User endpoints"
    },
    {
      "name": "Pets",
      "description": "Recurso: Pets"
    },
    {
      "name": "Servicos",
      "description": "Recurso: Servicos"
    },
    {
      "name": "Agendamentos",
      "description": "Recurso: Agendamentos"
    }
  ],
  "schemes": [
    "http",
    "https"
  ],
  "securityDefinitions": {
    "JWT": {
      "type": "apiKey",
      "in": "header",
      "name": "Authorization",
      "description": "JWT (JSON Web Token)[cite: 21]. Formato: Bearer <token> [cite: 23]"
    }
  },
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to authenticate a user and receive a JWT token.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User credentials for login.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginSchema"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Authentication successful, JWT token returned.",
            "schema": {
              "$ref": "#/definitions/LoginResponseSuccessSchema"
            }
          },
          "401": {
            "description": "Authentication failed. Invalid credentials or missing fields.",
            "schema": {
              "$ref": "#/definitions/LoginResponseUnauthorizedSchema"
            }
          }
        }
      }
    },
    "/users/{username}": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Endpoint to get a specific user by username.",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "Username"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "User found successfully.",
            "schema": {
              "$ref": "#/definitions/UserResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "User not found."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/users/": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Endpoint to get all users.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "List of users found successfully.",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/UserResponseSchema"
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "User"
        ],
        "description": "Endpoint to create a new user.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User credentials",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserSchema"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "User created successfully.",
            "schema": {
              "$ref": "#/definitions/UserResponseSchema"
            }
          }
        }
      }
    },
    "/pets/{id_pet}": {
      "get": {
        "tags": [
          "Pets"
        ],
        "description": "Endpoint para obter um pet específico pelo ID.",
        "parameters": [
          {
            "name": "id_pet",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "ID do Pet"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Pet encontrado com sucesso.",
            "schema": {
              "$ref": "#/definitions/PetResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Pet não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Pets"
        ],
        "description": "Endpoint para atualizar um pet existente.",
        "parameters": [
          {
            "name": "id_pet",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "ID do Pet"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Informações do Pet para atualizar",
            "required": true,
            "schema": {
              "$ref": "#/definitions/PetSchema"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pet atualizado com sucesso.",
            "schema": {
              "$ref": "#/definitions/PetResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Pet não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Pets"
        ],
        "description": "Endpoint para excluir um pet.",
        "parameters": [
          {
            "name": "id_pet",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID do Pet"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "Pet excluído com sucesso."
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Pet não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/pets/": {
      "get": {
        "tags": [
          "Pets"
        ],
        "description": "Endpoint para obter todos os pets.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "pagina",
            "in": "query",
            "type": "integer",
            "description": "Número da página"
          },
          {
            "name": "limite",
            "in": "query",
            "type": "integer",
            "description": "Itens por página"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de pets encontrada com sucesso.",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PetResponseSchema"
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Pets"
        ],
        "description": "Endpoint para criar um novo pet.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Informações do Pet",
            "required": true,
            "schema": {
              "$ref": "#/definitions/PetSchema"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Pet criado com sucesso.",
            "schema": {
              "$ref": "#/definitions/PetResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/servicos/{id_servico}": {
      "get": {
        "tags": [
          "Servicos"
        ],
        "description": "Endpoint para obter um serviço específico pelo ID.",
        "parameters": [
          {
            "name": "id_servico",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "ID do Serviço"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Serviço encontrado com sucesso.",
            "schema": {
              "$ref": "#/definitions/ServicoResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Serviço não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Servicos"
        ],
        "description": "Endpoint para atualizar um serviço existente.",
        "parameters": [
          {
            "name": "id_servico",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "ID do Serviço"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Informações do Serviço para atualizar",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ServicoSchema"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Serviço atualizado com sucesso.",
            "schema": {
              "$ref": "#/definitions/ServicoResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Serviço não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Servicos"
        ],
        "description": "Endpoint para excluir um serviço.",
        "parameters": [
          {
            "name": "id_servico",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID do Serviço"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "Serviço excluído com sucesso."
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Serviço não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/servicos/": {
      "get": {
        "tags": [
          "Servicos"
        ],
        "description": "Endpoint para obter todos os serviços.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de serviços encontrada com sucesso.",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ServicoResponseSchema"
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Servicos"
        ],
        "description": "Endpoint para criar um novo serviço.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Informações do Serviço",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ServicoSchema"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Serviço criado com sucesso.",
            "schema": {
              "$ref": "#/definitions/ServicoResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/agendamentos/{id_agendamento}": {
      "get": {
        "tags": [
          "Agendamentos"
        ],
        "description": "Endpoint para obter um agendamento específico pelo ID.",
        "parameters": [
          {
            "name": "id_agendamento",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "ID do Agendamento"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Agendamento encontrado com sucesso.",
            "schema": {
              "$ref": "#/definitions/AgendamentoResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Agendamento não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "put": {
        "tags": [
          "Agendamentos"
        ],
        "description": "Endpoint para atualizar um agendamento existente.",
        "parameters": [
          {
            "name": "id_agendamento",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "ID do Agendamento"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Informações do Agendamento para atualizar",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AgendamentoUpdateSchema"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agendamento atualizado com sucesso.",
            "schema": {
              "$ref": "#/definitions/AgendamentoResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Agendamento não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Agendamentos"
        ],
        "description": "Endpoint para excluir um agendamento.",
        "parameters": [
          {
            "name": "id_agendamento",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID do Agendamento"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "Agendamento excluído com sucesso."
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Agendamento não encontrado."
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    },
    "/agendamentos/": {
      "get": {
        "tags": [
          "Agendamentos"
        ],
        "description": "Endpoint para obter todos os agendamentos.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de agendamentos encontrada com sucesso.",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AgendamentoResponseSchema"
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      },
      "post": {
        "tags": [
          "Agendamentos"
        ],
        "description": "Endpoint para criar um novo agendamento.",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "Informações do Agendamento",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AgendamentoSchema"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Agendamento criado com sucesso.",
            "schema": {
              "$ref": "#/definitions/AgendamentoResponseSchema"
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT": []
          }
        ]
      }
    }
  },
  "definitions": {
    "PetSchema": {
      "type": "object",
      "properties": {
        "nome": {
          "type": "string",
          "example": "Rex"
        },
        "tutor": {
          "type": "string",
          "example": "João Silva"
        },
        "CPF_tutor": {
          "type": "string",
          "example": "123.456.789-00"
        },
        "tipo": {
          "type": "string",
          "example": "Cachorro"
        },
        "raca": {
          "type": "string",
          "example": "Labrador"
        },
        "dt_nascimento": {
          "type": "string",
          "example": "2021-06-15"
        },
        "rua": {
          "type": "string",
          "example": "Rua A"
        },
        "numero": {
          "type": "string",
          "example": "123"
        },
        "bairro": {
          "type": "string",
          "example": "Centro"
        },
        "cidade": {
          "type": "string",
          "example": "São Paulo"
        },
        "estado": {
          "type": "string",
          "example": "SP"
        },
        "CEP": {
          "type": "string",
          "example": "01000-000"
        }
      },
      "required": [
        "nome",
        "tutor",
        "CPF_tutor",
        "tipo"
      ]
    },
    "PetResponseSchema": {
      "type": "object",
      "properties": {
        "id_pet": {
          "type": "number",
          "example": 1
        },
        "nome": {
          "type": "string",
          "example": "Rex"
        },
        "tutor": {
          "type": "string",
          "example": "João Silva"
        },
        "CPF_tutor": {
          "type": "string",
          "example": "123.456.789-00"
        },
        "tipo": {
          "type": "string",
          "example": "Cachorro"
        },
        "raca": {
          "type": "string",
          "example": "Labrador"
        },
        "dt_nascimento": {
          "type": "string",
          "example": "2021-06-15"
        },
        "rua": {
          "type": "string",
          "example": "Rua A"
        },
        "numero": {
          "type": "string",
          "example": "123"
        },
        "bairro": {
          "type": "string",
          "example": "Centro"
        },
        "cidade": {
          "type": "string",
          "example": "São Paulo"
        },
        "estado": {
          "type": "string",
          "example": "SP"
        },
        "CEP": {
          "type": "string",
          "example": "01000-000"
        },
        "criadoEm": {
          "type": "string",
          "example": "2025-09-01T10:00:00Z"
        },
        "atualizadoEm": {
          "type": "string",
          "example": "2025-09-01T10:00:00Z"
        }
      },
      "required": [
        "id_pet",
        "nome",
        "tutor",
        "CPF_tutor",
        "tipo",
        "criadoEm",
        "atualizadoEm"
      ]
    },
    "ServicoSchema": {
      "type": "object",
      "properties": {
        "nome": {
          "type": "string",
          "example": "Banho"
        },
        "descricao": {
          "type": "string",
          "example": "Banho completo com shampoo especial"
        },
        "preco": {
          "type": "number",
          "example": 80
        }
      },
      "required": [
        "nome",
        "preco"
      ]
    },
    "ServicoResponseSchema": {
      "type": "object",
      "properties": {
        "id_servico": {
          "type": "number",
          "example": 1
        },
        "nome": {
          "type": "string",
          "example": "Banho"
        },
        "descricao": {
          "type": "string",
          "example": "Banho completo com shampoo especial"
        },
        "preco": {
          "type": "number",
          "example": 80
        },
        "criadoEm": {
          "type": "string",
          "example": "2025-09-01T10:00:00Z"
        },
        "atualizadoEm": {
          "type": "string",
          "example": "2025-09-01T10:00:00Z"
        }
      },
      "required": [
        "id_servico",
        "nome",
        "preco",
        "criadoEm",
        "atualizadoEm"
      ]
    },
    "AgendamentoSchema": {
      "type": "object",
      "properties": {
        "id_pet": {
          "type": "number",
          "example": 1
        },
        "id_servico": {
          "type": "number",
          "example": 1
        },
        "data_hora": {
          "type": "string",
          "example": "2025-10-05T14:00:00Z"
        },
        "status": {
          "type": "string",
          "example": "Agendado"
        }
      },
      "required": [
        "id_pet",
        "id_servico",
        "data_hora"
      ]
    },
    "AgendamentoUpdateSchema": {
      "type": "object",
      "properties": {
        "data_hora": {
          "type": "string",
          "example": "2025-10-06T10:00:00Z"
        },
        "status": {
          "type": "string",
          "example": "Confirmado"
        }
      }
    },
    "AgendamentoResponseSchema": {
      "type": "object",
      "properties": {
        "id_agendamento": {
          "type": "number",
          "example": 1
        },
        "id_pet": {
          "type": "number",
          "example": 1
        },
        "id_servico": {
          "type": "number",
          "example": 1
        },
        "data_hora": {
          "type": "string",
          "example": "2025-10-05T14:00:00Z"
        },
        "status": {
          "type": "string",
          "example": "Agendado"
        },
        "criadoEm": {
          "type": "string",
          "example": "2025-10-01T10:00:00Z"
        },
        "atualizadoEm": {
          "type": "string",
          "example": "2025-10-01T10:00:00Z"
        }
      },
      "required": [
        "id_agendamento",
        "id_pet",
        "id_servico",
        "data_hora",
        "status",
        "criadoEm",
        "atualizadoEm"
      ]
    },
    "UserSchema": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "example": "usuario.teste"
        },
        "password": {
          "type": "string",
          "example": "senha123"
        }
      },
      "required": [
        "username",
        "password"
      ]
    },
    "UserResponseSchema": {
      "type": "object",
      "properties": {
        "id": {
          "type": "number",
          "example": 1
        },
        "username": {
          "type": "string",
          "example": "usuario.teste"
        },
        "password": {
          "type": "string",
          "example": "$2b$10$qEjJiPFyRVEQ7W26W/l/GOEfwTHayN7gv/t8UYcW7ElsfavGswuDq"
        }
      },
      "required": [
        "id",
        "username",
        "password"
      ]
    },
    "LoginSchema": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "example": "usuario.teste"
        },
        "password": {
          "type": "string",
          "example": "senha123"
        }
      },
      "required": [
        "username",
        "password"
      ]
    },
    "LoginResponseSuccessSchema": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "example": "Login realizado com sucesso!"
        },
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImVkdWFyZG8uYXJhdWpvIiwiaWF0IjoxNjE2MjM5MDIyLCJleHAiOjE2MTYyNDI2MjJ9.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
        }
      },
      "required": [
        "message",
        "token"
      ]
    },
    "LoginResponseUnauthorizedSchema": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string",
          "example": "Usuário e/ou senha inválidos ou não informados."
        }
      },
      "required": [
        "error"
      ]
    }
  }
}